---

import { type Project } from '../../types';

import ProjectCard from '../UI/ProjectCard.astro';

import Columns from '../UI/Columns.astro';

let data: Array<Project> = []

try {
    const response = await fetch(`${import.meta.env.PUBLIC_API}/api/projects`);
    data = await response.json();
} catch(e) {
    console.log(e)
}

---

<section>
    <h2 class="text-3xl">Projects</h2>
    <Columns>
        { data.map((item) => {
            return <div class="scroll-animation left-animation child-animation">
                        <ProjectCard project={item}/>
                    </div>
            
        })}
    </Columns>
</section>